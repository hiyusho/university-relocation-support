<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›† - å¤§å­¦èµ´ä»»è€…å®¶æ—å¸¯åŒæ”¯æ´ãƒ—ãƒ­ã‚°ãƒ©ãƒ </title>
    <meta name="description" content="ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã®ç·¨é›†ãƒšãƒ¼ã‚¸ã€‚åŸºæœ¬æƒ…å ±ã€ä½æ‰€ã€è·æ­´ãªã©ã‚’æ›´æ–°ã§ãã¾ã™ã€‚">
    <link rel="canonical" href="https://hiyusho.github.io/university-relocation-support/profile-edit.html">
    
    <!-- Open Graph -->
    <meta property="og:title" content="ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›† - å¤§å­¦èµ´ä»»è€…å®¶æ—å¸¯åŒæ”¯æ´ãƒ—ãƒ­ã‚°ãƒ©ãƒ ">
    <meta property="og:description" content="ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’ç·¨é›†ãƒ»æ›´æ–°">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hiyusho.github.io/university-relocation-support/profile-edit.html">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            background: white;
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            padding: 8px 15px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: #f0f4ff;
        }

        .header h1 {
            font-size: 24px;
            color: #2d3748;
        }

        /* Form Card */
        .form-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .form-card h2 {
            font-size: 18px;
            color: #2d3748;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .form-label.required::after {
            content: ' *';
            color: #ef4444;
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-input:disabled {
            background: #f1f5f9;
            color: #94a3b8;
            cursor: not-allowed;
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-hint {
            font-size: 12px;
            color: #64748b;
            margin-top: 5px;
        }

        /* Buttons */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        /* Alert */
        .alert {
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease;
        }

        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
        }

        .alert-error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #ef4444;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Loading */
        .loading {
            text-align: center;
            padding: 60px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                align-items: flex-start;
            }

            .header h1 {
                font-size: 20px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .btn-group {
                flex-direction: column;
                width: 100%;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <a href="dashboard.html" class="back-link">
                    â† ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
                </a>
                <h1>ğŸ‘¤ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†</h1>
            </div>
        </div>

        <!-- Alert Container -->
        <div id="alertContainer"></div>

        <!-- Loading -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>

        <!-- Profile Form -->
        <div id="profileForm" style="display: none;">
            <!-- Basic Information -->
            <div class="form-card">
                <h2>ğŸ“ åŸºæœ¬æƒ…å ±</h2>
                <form id="basicInfoForm">
                    <div class="form-group">
                        <label class="form-label required">è¡¨ç¤ºå</label>
                        <input type="text" id="displayName" class="form-input" placeholder="å±±ç”° å¤ªéƒ" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                        <input type="email" id="email" class="form-input" disabled>
                        <p class="form-hint">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¤‰æ›´ã§ãã¾ã›ã‚“</p>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">é›»è©±ç•ªå·</label>
                            <input type="tel" id="phone" class="form-input" placeholder="090-1234-5678">
                        </div>
                        <div class="form-group">
                            <label class="form-label">ç”Ÿå¹´æœˆæ—¥</label>
                            <input type="date" id="birthDate" class="form-input">
                        </div>
                    </div>
                    <div class="btn-group">
                        <button type="submit" class="btn btn-primary" id="saveBasicBtn">
                            ğŸ’¾ ä¿å­˜ã™ã‚‹
                        </button>
                    </div>
                </form>
            </div>

            <!-- Address Information -->
            <div class="form-card">
                <h2>ğŸ  ä½æ‰€æƒ…å ±</h2>
                <form id="addressForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">éƒµä¾¿ç•ªå·</label>
                            <input type="text" id="postalCode" class="form-input" placeholder="123-4567">
                        </div>
                        <div class="form-group">
                            <label class="form-label">éƒ½é“åºœçœŒ</label>
                            <input type="text" id="prefecture" class="form-input" placeholder="æ„›çŸ¥çœŒ">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">å¸‚åŒºç”ºæ‘</label>
                        <input type="text" id="city" class="form-input" placeholder="åå¤å±‹å¸‚ä¸­åŒº">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ç•ªåœ°ãƒ»å»ºç‰©å</label>
                        <input type="text" id="address" class="form-input" placeholder="ä¸‰ã®ä¸¸3-1-2">
                    </div>
                    <div class="btn-group">
                        <button type="submit" class="btn btn-primary" id="saveAddressBtn">
                            ğŸ’¾ ä¿å­˜ã™ã‚‹
                        </button>
                    </div>
                </form>
            </div>

            <!-- Career Information -->
            <div class="form-card">
                <h2>ğŸ’¼ è·æ­´ãƒ»å­¦æ­´</h2>
                <form id="careerForm">
                    <div class="form-group">
                        <label class="form-label">æœ€çµ‚å­¦æ­´</label>
                        <input type="text" id="education" class="form-input" placeholder="â—‹â—‹å¤§å­¦ â—‹â—‹å­¦éƒ¨ å’æ¥­">
                    </div>
                    <div class="form-group">
                        <label class="form-label">è·å‹™çµŒæ­´</label>
                        <textarea id="workHistory" class="form-textarea" placeholder="ã“ã‚Œã¾ã§ã®è·å‹™çµŒæ­´ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ã‚¹ã‚­ãƒ«</label>
                        <textarea id="skills" class="form-textarea" placeholder="æŒã£ã¦ã„ã‚‹ã‚¹ã‚­ãƒ«ã‚„è³‡æ ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea>
                    </div>
                    <div class="btn-group">
                        <button type="submit" class="btn btn-primary" id="saveCareerBtn">
                            ğŸ’¾ ä¿å­˜ã™ã‚‹
                        </button>
                    </div>
                </form>
            </div>

            <!-- Other Information -->
            <div class="form-card">
                <h2>âœ¨ ãã®ä»–</h2>
                <form id="otherForm">
                    <div class="form-group">
                        <label class="form-label">è‡ªå·±PR</label>
                        <textarea id="bio" class="form-textarea" placeholder="è‡ªå·±PRã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">å¸Œæœ›è·ç¨®</label>
                            <input type="text" id="desiredPosition" class="form-input" placeholder="å–¶æ¥­è·">
                        </div>
                        <div class="form-group">
                            <label class="form-label">å¸Œæœ›å‹¤å‹™åœ°</label>
                            <input type="text" id="desiredLocation" class="form-input" placeholder="æ„›çŸ¥çœŒ">
                        </div>
                    </div>
                    <div class="btn-group">
                        <button type="submit" class="btn btn-primary" id="saveOtherBtn">
                            ğŸ’¾ ä¿å­˜ã™ã‚‹
                        </button>
                    </div>
                </form>
            </div>

            <!-- Password Change -->
            <div class="form-card">
                <h2>ğŸ”’ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´</h2>
                <form id="passwordForm">
                    <div class="form-group">
                        <label class="form-label required">ç¾åœ¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                        <input type="password" id="currentPassword" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label required">æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                        <input type="password" id="newPassword" class="form-input" minlength="6" required>
                        <p class="form-hint">6æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label required">æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆç¢ºèªï¼‰</label>
                        <input type="password" id="confirmPassword" class="form-input" minlength="6" required>
                    </div>
                    <div class="btn-group">
                        <button type="submit" class="btn btn-primary" id="changePasswordBtn">
                            ğŸ” ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, onAuthStateChanged, updatePassword, reauthenticateWithCredential, EmailAuthProvider } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, doc, getDoc, setDoc, updateDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyA6iFUhXOueccuoLJVU9ZSvXywHmj8zoR4",
            authDomain: "university-relocation-support.firebaseapp.com",
            projectId: "university-relocation-support",
            storageBucket: "university-relocation-support.firebasestorage.app",
            messagingSenderId: "849634495988",
            appId: "1:849634495988:web:013663976b0c4d6b4f7da1",
            measurementId: "G-RJP20TC7DV"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let currentUser = null;

        // Check authentication
        onAuthStateChanged(auth, (user) => {
            if (user) {
                currentUser = user;
                loadProfile();
            } else {
                window.location.href = 'log-in.html';
            }
        });

        // Load profile
        async function loadProfile() {
            try {
                const loading = document.getElementById('loading');
                const profileForm = document.getElementById('profileForm');

                loading.style.display = 'block';
                profileForm.style.display = 'none';

                // Get user document
                const userDoc = await getDoc(doc(db, 'users', currentUser.uid));
                const userData = userDoc.exists() ? userDoc.data() : {};

                // Fill form fields
                document.getElementById('displayName').value = userData.displayName || currentUser.displayName || '';
                document.getElementById('email').value = currentUser.email || '';
                document.getElementById('phone').value = userData.phone || '';
                document.getElementById('birthDate').value = userData.birthDate || '';
                document.getElementById('postalCode').value = userData.postalCode || '';
                document.getElementById('prefecture').value = userData.prefecture || '';
                document.getElementById('city').value = userData.city || '';
                document.getElementById('address').value = userData.address || '';
                document.getElementById('education').value = userData.education || '';
                document.getElementById('workHistory').value = userData.workHistory || '';
                document.getElementById('skills').value = userData.skills || '';
                document.getElementById('bio').value = userData.bio || '';
                document.getElementById('desiredPosition').value = userData.desiredPosition || '';
                document.getElementById('desiredLocation').value = userData.desiredLocation || '';

                loading.style.display = 'none';
                profileForm.style.display = 'block';
            } catch (error) {
                console.error('Error loading profile:', error);
                showAlert('ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚', 'error');
                document.getElementById('loading').style.display = 'none';
            }
        }

        // Save basic info
        document.getElementById('basicInfoForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('saveBasicBtn');
            
            try {
                btn.disabled = true;
                btn.textContent = 'ä¿å­˜ä¸­...';

                const data = {
                    displayName: document.getElementById('displayName').value,
                    phone: document.getElementById('phone').value,
                    birthDate: document.getElementById('birthDate').value,
                    updatedAt: new Date()
                };

                await setDoc(doc(db, 'users', currentUser.uid), data, { merge: true });
                showAlert('åŸºæœ¬æƒ…å ±ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚', 'success');
            } catch (error) {
                console.error('Error saving basic info:', error);
                showAlert('ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚', 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'ğŸ’¾ ä¿å­˜ã™ã‚‹';
            }
        });

        // Save address
        document.getElementById('addressForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('saveAddressBtn');
            
            try {
                btn.disabled = true;
                btn.textContent = 'ä¿å­˜ä¸­...';

                const data = {
                    postalCode: document.getElementById('postalCode').value,
                    prefecture: document.getElementById('prefecture').value,
                    city: document.getElementById('city').value,
                    address: document.getElementById('address').value,
                    updatedAt: new Date()
                };

                await setDoc(doc(db, 'users', currentUser.uid), data, { merge: true });
                showAlert('ä½æ‰€æƒ…å ±ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚', 'success');
            } catch (error) {
                console.error('Error saving address:', error);
                showAlert('ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚', 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'ğŸ’¾ ä¿å­˜ã™ã‚‹';
            }
        });

        // Save career
        document.getElementById('careerForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('saveCareerBtn');
            
            try {
                btn.disabled = true;
                btn.textContent = 'ä¿å­˜ä¸­...';

                const data = {
                    education: document.getElementById('education').value,
                    workHistory: document.getElementById('workHistory').value,
                    skills: document.getElementById('skills').value,
                    updatedAt: new Date()
                };

                await setDoc(doc(db, 'users', currentUser.uid), data, { merge: true });
                showAlert('è·æ­´ãƒ»å­¦æ­´ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚', 'success');
            } catch (error) {
                console.error('Error saving career:', error);
                showAlert('ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚', 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'ğŸ’¾ ä¿å­˜ã™ã‚‹';
            }
        });

        // Save other info
        document.getElementById('otherForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('saveOtherBtn');
            
            try {
                btn.disabled = true;
                btn.textContent = 'ä¿å­˜ä¸­...';

                const data = {
                    bio: document.getElementById('bio').value,
                    desiredPosition: document.getElementById('desiredPosition').value,
                    desiredLocation: document.getElementById('desiredLocation').value,
                    updatedAt: new Date()
                };

                await setDoc(doc(db, 'users', currentUser.uid), data, { merge: true });
                showAlert('ãã®ä»–ã®æƒ…å ±ã‚’ä¿å­˜ã—ã¾ã—ãŸã€‚', 'success');
            } catch (error) {
                console.error('Error saving other info:', error);
                showAlert('ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚', 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'ğŸ’¾ ä¿å­˜ã™ã‚‹';
            }
        });

        // Change password
        document.getElementById('passwordForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('changePasswordBtn');
            
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (newPassword !== confirmPassword) {
                showAlert('æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“ã€‚', 'error');
                return;
            }

            try {
                btn.disabled = true;
                btn.textContent = 'å¤‰æ›´ä¸­...';

                // Reauthenticate user
                const credential = EmailAuthProvider.credential(
                    currentUser.email,
                    currentPassword
                );
                await reauthenticateWithCredential(currentUser, credential);

                // Update password
                await updatePassword(currentUser, newPassword);

                showAlert('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ã¾ã—ãŸã€‚', 'success');
                
                // Clear password fields
                document.getElementById('currentPassword').value = '';
                document.getElementById('newPassword').value = '';
                document.getElementById('confirmPassword').value = '';
            } catch (error) {
                console.error('Error changing password:', error);
                
                let errorMessage = 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å¤‰æ›´ã«å¤±æ•—ã—ã¾ã—ãŸã€‚';
                if (error.code === 'auth/wrong-password') {
                    errorMessage = 'ç¾åœ¨ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚';
                } else if (error.code === 'auth/weak-password') {
                    errorMessage = 'æ–°ã—ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯6æ–‡å­—ä»¥ä¸Šã§è¨­å®šã—ã¦ãã ã•ã„ã€‚';
                }
                
                showAlert(errorMessage, 'error');
            } finally {
                btn.disabled = false;
                btn.textContent = 'ğŸ” ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´';
            }
        });

        // Show alert
        function showAlert(message, type = 'success') {
            const alertContainer = document.getElementById('alertContainer');
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.innerHTML = `
                <span>${type === 'success' ? 'âœ“' : 'âš '}</span>
                <span>${message}</span>
            `;
            alertContainer.appendChild(alert);

            setTimeout(() => {
                alert.remove();
            }, 5000);

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†",
      "description": "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’ç·¨é›†ãƒ»æ›´æ–°",
      "url": "https://hiyusho.github.io/university-relocation-support/profile-edit.html"
    }
    </script>
</body>
</html>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
